/* ============================================================
   [1. PC 및 공용 CSS]
   ============================================================ */
body { background-color: #f4f7f6; font-family: 'Malgun Gothic', sans-serif; margin: 0; padding: 0; color: #333; }
.exam-container { max-width: 1000px; margin: 30px auto; background-color: #fff; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
.exam-header { text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 20px; margin-bottom: 30px; }
.exam-header h1 { font-size: 24px; color: #2c3e50; margin: 0; }
.user-info-section { background: #eef2f7; padding: 15px; border-radius: 8px; margin-bottom: 30px; font-weight: bold; }
.user-info-section input { padding: 8px; border: 1px solid #ccc; border-radius: 4px; margin-left: 10px; }

/* 문제 카드 및 가로 배치 엔진 */
.q-card { margin-bottom: 40px; padding: 25px; border: 1px solid #eee; border-radius: 10px; transition: border 0.3s; background: #fff; }
.q-title { font-size: 19px; font-weight: bold; line-height: 1.5; margin-bottom: 20px; color: #2c3e50; }
.q-no { color: #3498db; margin-right: 10px; }

/* 가로 배치를 위한 Flexbox 적용 */
.q-body { display: flex; gap: 30px; align-items: flex-start; justify-content: space-between; }
.q-options { flex: 1; display: flex; flex-direction: column; gap: 12px; }
.q-img-wrapper { flex: 0 0 auto; max-width: 400px; }
.q-img-wrapper img { width: 100%; max-height: 300px; border-radius: 8px; border: 1px solid #ddd; object-fit: contain; }

/* 보기 스타일 */
.q-opt-label { display: block; padding: 12px 18px; background: #fdfdfd; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer; font-size: 16px; }
.q-opt-label:hover { background: #f0f7ff; border-color: #3498db; }
.q-opt-label input { margin-right: 12px; transform: scale(1.2); }

/* 결과 표시 배지 */
.result-badge { display: inline-block; padding: 4px 12px; border-radius: 4px; font-weight: bold; margin-bottom: 15px; }
.badge-correct { background: #d4edda; color: #155724; }
.badge-wrong { background: #f8d7da; color: #721c24; }
.correct-answer-text { color: #e74c3c; font-weight: bold; margin-left: 15px; }

.submit-area { text-align: center; margin-top: 50px; }
.btn-submit { padding: 18px 60px; font-size: 20px; font-weight: bold; background: #3498db; color: white; border: none; border-radius: 50px; cursor: pointer; }


/* ============================================================
   [2. 모바일 최적화 CSS] - 최하단 배치
   ============================================================ */
@media screen and (max-width: 768px) {
    .exam-container { margin: 0; padding: 15px; border-radius: 0; }
    
    /* 모바일에서는 세로로 다시 쌓기 */
    .q-body { flex-direction: column-reverse; gap: 20px; }
    .q-img-wrapper { width: 100%; max-width: 100%; text-align: center; }
    .q-img-wrapper img { max-height: 250px; width: auto; max-width: 100%; }
    
    .q-title { font-size: 17px; }
    .user-info-section input { width: 100%; box-sizing: border-box; margin-left: 0; margin-top: 10px; }
    .btn-submit { width: 100%; border-radius: 10px; }
    .correct-answer-text { display: block; margin-left: 0; margin-top: 5px; }
}

/* [수정] 외부 프레임 간섭 제거 */
.exam-container { 
    max-width: 1000px; 
    margin: 30px auto; 
    width: 95%; /* 기본 너비 확보 */
}

/* [핵심] 모바일 화면에서 가로를 꽉 채우지 못하게 막는 범인 검거 및 수정 */
@media screen and (max-width: 768px) {
    .exam-container { 
        width: 100% !important; 
        margin: 0 !important; 
        padding: 10px !important; 
        box-sizing: border-box !important;
    }
    
    /* 모달창이 작게 나오게 만드는 외부 설정 강제 해제 */
    #classSelectModal > div {
        width: 94% !important;
        max-width: 94% !important;
        min-width: 94% !important;
        padding: 20px 10px !important;
    }
}